<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>US West Roadtrip Itinerary</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: row;
      height: 100vh;
    }
    .content {
      width: 50%;
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
    }
    .day-section {
      margin-bottom: 30px;
    }
    .day-section img {
      width: 100%;
      max-width: 500px;
      display: block;
      margin: 10px 0;
    }
    .hotel {
      font-size: 0.95em;
      color: #555;
      margin-top: 5px;
    }
    .hotel img {
      width: 100%;
      max-width: 400px;
      margin: 5px 0;
    }
    #map-container {
      width: 50%;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }
    #controls {
      padding: 10px;
      overflow-x: auto;
      background: #f7f7f7;
      border-bottom: 1px solid #ddd;
      white-space: nowrap;
    }
    #controls button {
      margin-right: 8px;
      padding: 6px 12px;
      border: 1px solid #ccc;
      background: #fff;
      cursor: pointer;
    }
    #controls button.active {
      background-color: #4285F4;
      color: white;
      border-color: #4285F4;
    }
    #map {
      flex: 1;
    }
  </style>
</head>
<body>
  <div class="content">
    <h1 style="text-align:center">US West Roadtrip: 9/30 (Sat) – 10/7 (Sat)</h1>
    <div class="day-section">
      <h2>Day 1 – Sep 30 (Sat): Arrival in Los Angeles</h2>
      <ul>
        <li>17:15 抵达洛杉矶 LAX</li>
        <li>入住洛杉矶市区酒店（如 Downtown InterContinental）</li>
        <li>前往 Santa Monica 或 Koreatown 吃晚餐，适应时差</li>
      </ul>
      <div class="hotel">
        推荐酒店：InterContinental Downtown LA<br>
        <img src="https://cf.bstatic.com/xdata/images/hotel/max1280x900/312101210.jpg" alt="InterContinental LA">
      </div>
    </div>
  </div>

  <div id="map-container">
    <div id="controls"></div>
    <div id="map"></div>
  </div>

  <script>
    const itinerary = {
      'Brief': [
        "Los Angeles Airport", "Elmer’s Bottle Tree Ranch", "Calico Ghost Town", "Peggy Sue’s 50s Diner",
        "Seven Magic Mountains", "Las Vegas Sphere / Venetian", "Zion National Park Visitor Center",
        "The Narrows Trailhead", "Angel’s Landing Trailhead", "Bryce Canyon Visitor Center", "Navajo Loop Trail",
        "Amangiri Resort", "Lake Powell (Wahweap Marina)", "Antelope Canyon Upper", "Horseshoe Bend",
        "Grand Canyon South Rim (Desert View)", "Death Valley Zabriskie Point", "Badwater Basin",
        "Sequoia General Sherman Tree", "Moro Rock", "Los Angeles Griffith Observatory", "Santa Monica Pier"
      ],
      'Day 1': ["Los Angeles Airport"],
      'Day 2': ["Elmer’s Bottle Tree Ranch", "Calico Ghost Town", "Peggy Sue’s 50s Diner", "Seven Magic Mountains", "Las Vegas Sphere / Venetian"],
      'Day 3': ["Zion National Park Visitor Center", "The Narrows Trailhead", "Angel’s Landing Trailhead"],
      'Day 4': ["Bryce Canyon Visitor Center", "Navajo Loop Trail", "Amangiri Resort"],
      'Day 5': ["Lake Powell (Wahweap Marina)", "Antelope Canyon Upper", "Horseshoe Bend"],
      'Day 6': ["Grand Canyon South Rim (Desert View)", "Death Valley Zabriskie Point", "Badwater Basin"],
      'Day 7': ["Sequoia General Sherman Tree", "Moro Rock"],
      'Day 8': ["Los Angeles Griffith Observatory", "Santa Monica Pier"]
    };

    const allLocations = [
      ["Los Angeles Airport", 33.9416, -118.4085],
      ["Elmer’s Bottle Tree Ranch", 34.8559, -116.4711],
      ["Calico Ghost Town", 34.9488, -117.3080],
      ["Peggy Sue’s 50s Diner", 34.9482, -117.3010],
      ["Seven Magic Mountains", 35.9934, -115.1442],
      ["Las Vegas Sphere / Venetian", 36.1126, -115.1745],
      ["Zion National Park Visitor Center", 37.2982, -113.0263],
      ["The Narrows Trailhead", 37.2992, -112.9470],
      ["Angel’s Landing Trailhead", 37.2693, -112.9507],
      ["Bryce Canyon Visitor Center", 37.5872, -112.1871],
      ["Navajo Loop Trail", 37.5832, -112.1870],
      ["Amangiri Resort", 37.0784, -110.7218],
      ["Lake Powell (Wahweap Marina)", 37.2624, -111.3015],
      ["Antelope Canyon Upper", 36.8619, -111.3743],
      ["Horseshoe Bend", 36.8791, -111.5100],
      ["Grand Canyon South Rim (Desert View)", 36.0480, -111.4530],
      ["Death Valley Zabriskie Point", 36.4207, -116.8110],
      ["Badwater Basin", 36.2504, -116.8258],
      ["Sequoia General Sherman Tree", 36.5818, -118.7516],
      ["Moro Rock", 36.5449, -118.7675],
      ["Los Angeles Griffith Observatory", 34.1184, -118.3004],
      ["Santa Monica Pier", 34.0094, -118.4973]
    ];

    let map;
    let markers = [];
    let currentButton = null;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 6,
        center: { lat: 36.1, lng: -115 },
      });

      const controls = document.getElementById("controls");
      for (const day in itinerary) {
        const btn = document.createElement("button");
        btn.textContent = day;
        btn.onclick = () => showMarkersForDay(day, btn);
        controls.appendChild(btn);
      }

      const firstButton = controls.querySelector("button");
      showMarkersForDay("Day 1", firstButton);
    }

    function showMarkersForDay(day, button) {
      if (currentButton) currentButton.classList.remove("active");
      if (button) button.classList.add("active");
      currentButton = button;

      markers.forEach(marker => marker.setMap(null));
      markers = [];

      const bounds = new google.maps.LatLngBounds();
      const locationsForDay = itinerary[day];
      allLocations.forEach(([name, lat, lng]) => {
        if (locationsForDay.includes(name)) {
          const position = { lat, lng };
          const marker = new google.maps.Marker({ position, map, title: name });
          const info = new google.maps.InfoWindow({ content: name });
          marker.addListener("click", () => info.open(map, marker));
          markers.push(marker);
          bounds.extend(position);
        }
      });

      if (!bounds.isEmpty()) map.fitBounds(bounds);
    }
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCyoWsTVlWNoe7ZSiD3Xrka4f1Ve5Odwjc&callback=initMap"></script>
</body>
</html>
